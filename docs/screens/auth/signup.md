# サインアップ

## 基本情報

| 項目       | 内容                                   |
| ---------- | -------------------------------------- |
| 画面 ID    | SC-AUTH-002                            |
| 画面名     | サインアップ                           |
| URL/ルート | `/signup`                              |
| 説明       | 新しいユーザーアカウントを登録する画面 |

## 概要

ユーザー名、表示名、パスワードを入力して新規アカウントを作成します。登録成功時、タイムラインへ遷移します。

## レイアウト

```
+----------------------------------+
| サインアップ                     |
+----------------------------------+
| ユーザー名                       |
| +------------------------------+ |
| | テキスト入力                 | |
| +------------------------------+ |
|                                  |
| 表示名                           |
| +------------------------------+ |
| | テキスト入力                 | |
| +------------------------------+ |
|                                  |
| パスワード                       |
| +------------------------------+ |
| | パスワード入力               | |
| +------------------------------+ |
|                                  |
|            [登録する]            |
|                                  |
| アカウントをお持ちの方は         |
| [ログイン]                       |
+----------------------------------+
```

## 入力項目

| 項目       | 種類     | 必須 | 最大文字数 | 説明                                      |
| ---------- | -------- | ---- | ---------- | ----------------------------------------- |
| ユーザー名 | text     | ○    | 50 文字    | ログイン ID（英数字とアンダースコアのみ） |
| 表示名     | text     | ○    | 100 文字   | 画面に表示される名前                      |
| パスワード | password | ○    | -          | パスワード（マスク表示）                  |

## 操作項目

| 要素     | 種類   | 動作                                              |
| -------- | ------ | ------------------------------------------------- |
| 登録する | ボタン | 登録 API を呼び出し、成功したらタイムラインへ遷移 |
| ログイン | リンク | ログイン画面へ遷移                                |

## API 連携

| 項目           | 内容                         |
| -------------- | ---------------------------- |
| エンドポイント | `POST /auth/signup`          |
| タイミング     | 「登録する」ボタンクリック時 |

詳細は [open-api.yaml](../../open-api.yaml) を参照

## 画面遷移

| 遷移先                     | トリガー                   |
| -------------------------- | -------------------------- |
| タイムライン (SC-POST-001) | 登録成功時                 |
| ログイン (SC-AUTH-001)     | 「ログイン」リンククリック |

## バリデーション

| 項目       | ルール                     | エラーメッセージ                                   |
| ---------- | -------------------------- | -------------------------------------------------- |
| ユーザー名 | 必須                       | ユーザー名を入力してください                       |
| ユーザー名 | 3〜50 文字                 | ユーザー名は 3〜50 文字で入力してください          |
| ユーザー名 | 英数字とアンダースコアのみ | ユーザー名は英数字とアンダースコアのみ使用できます |
| 表示名     | 必須                       | 表示名を入力してください                           |
| 表示名     | 1〜100 文字                | 表示名は 1〜100 文字で入力してください             |
| パスワード | 必須                       | パスワードを入力してください                       |
| パスワード | 8 文字以上                 | パスワードは 8 文字以上で入力してください          |

## エラーハンドリング

| エラー               | 表示内容                                 |
| -------------------- | ---------------------------------------- |
| バリデーションエラー | フォーム下部にエラーメッセージ表示       |
| 409 (ユーザー名重複) | 「このユーザー名は既に使用されています」 |
| API 送信失敗         | 「登録に失敗しました」                   |

## 備考

- 既にログイン済みの場合はタイムラインへリダイレクト
