# 投稿作成

## 基本情報

| 項目       | 内容                     |
| ---------- | ------------------------ |
| 画面 ID    | SC-POST-002              |
| 画面名     | 投稿作成                 |
| URL/ルート | `/posts/new`             |
| 説明       | 新しい投稿を作成する画面 |

## 概要

テキスト入力フォームで投稿を作成し、送信します。

## レイアウト

```
+----------------------------------+
| 投稿作成                         |
+----------------------------------+
| +------------------------------+ |
| |                              | |
| | テキストエリア（複数行）     | |
| |                              | |
| +------------------------------+ |
|                                  |
| [キャンセル]        [投稿する]  |
+----------------------------------+
```

## 入力項目

| 項目     | 種類     | 必須 | 最大文字数 | バリデーション |
| -------- | -------- | ---- | ---------- | -------------- |
| 投稿本文 | textarea | ○    | 280 文字   | 空文字不可     |

## 操作項目

| ボタン     | 動作                                              |
| ---------- | ------------------------------------------------- |
| 投稿する   | 投稿を API に送信し、成功したらタイムラインへ遷移 |
| キャンセル | 入力内容を破棄してタイムラインへ戻る              |

## API 連携

| 項目           | 内容                         |
| -------------- | ---------------------------- |
| エンドポイント | `POST /posts`            |
| タイミング     | 「投稿する」ボタンクリック時 |

詳細は [open-api.yaml](../../open-api.yaml) を参照

## 画面遷移

| 遷移先                     | トリガー                     |
| -------------------------- | ---------------------------- |
| タイムライン (SC-POST-001) | 「投稿する」成功時           |
| タイムライン (SC-POST-001) | 「キャンセル」ボタンクリック |

## バリデーション

| 項目     | ルール       | エラーメッセージ                      |
| -------- | ------------ | ------------------------------------- |
| 投稿本文 | 必須         | 投稿内容を入力してください            |
| 投稿本文 | 280 文字以内 | 投稿は 280 文字以内で入力してください |

## エラーハンドリング

| エラー               | 表示内容                           |
| -------------------- | ---------------------------------- |
| バリデーションエラー | フォーム下部にエラーメッセージ表示 |
| API 送信失敗         | 「投稿の送信に失敗しました」       |

## 備考

- 投稿成功後は自動的にタイムラインへ遷移
